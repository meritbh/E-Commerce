<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Your Cart</title>
   <link rel="stylesheet" href="styles.css">
</head>
<body>
   <!-- Navigation Bar -->
   <div class="navbar">
       <a href="/products">Home</a>
       <a href="/sell">Sell</a>
       <a href="/cart">Cart</a>
       <a href="/profile">Profile</a>
       <a href="/logout">Logout</a>
   </div>

   <!-- Main Content -->
   <main>
       <div class="cart-container">
           <h2>Your Cart</h2>

           <!-- Success and Error Messages -->
           <p th:if="${errorMessage}" th:text="${errorMessage}" class="error-message"></p>
           <p th:if="${successMessage}" th:text="${successMessage}" class="success-message"></p>

           <!-- Empty Cart Message -->
           <div th:if="${emptyCartMessage}">
               <p th:text="${emptyCartMessage}"></p>
               <div>
                   <a th:href="@{/products}" class="btn">Continue Shopping</a>
               </div>
           </div>

           <!-- Cart Items -->
           <div th:if="${cartItems != null and !#lists.isEmpty(cartItems)}">
               <ul>
                   <li th:each="item : ${cartItems}" class="cart-item">
                       <img th:src="${item.product.imageUrl}" alt="Product Image" class="cart-item-image">
                       <div class="cart-item-details">
                           <h3 th:text="${item.product.name}"></h3>
                           <p th:text="${item.product.description}"></p>
                       </div>
                       <div class="cart-item-actions">
                           <p>Price: $<span th:text="${item.totalPrice}"></span></p>
                           <form th:action="@{/cart/remove}" method="post">
                               <input type="hidden" name="cartItemId" th:value="${item.id}">
                               <button type="submit" class="btn">Remove</button>
                           </form>
                       </div>
                   </li>
               </ul>
               <p class="total-container">Total Price: $<span th:text="${#numbers.formatDecimal(totalPrice, 1, 2)}"></span></p>
               <div class="continue-shopping">
                   <a th:href="@{/products}">Continue Shopping</a>
               </div>
           </div>
       </div>
   </main>
</body>
</html>