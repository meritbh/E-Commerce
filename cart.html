<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Your Cart</title>
   <link rel="stylesheet" href="/static/css/cart.css">
</head>
<body>
   <nav class="navbar">
       <a href="/products">Home</a>
       <a href="/sell">Sell</a>
       <a href="/cart">Cart</a>
       <a href="/logout1">Logout</a>
   </nav>


   <header>
       <h1>Your Cart</h1>
   </header>


   <main>
       <div th:if="${cartItems != null and !#lists.isEmpty(cartItems)}">
        <ul>
            <li th:each="item : ${cartItems}" class="cart-item">
                <!-- Display the product image -->
                <img th:src="@{/uploads/{imagePath}(imagePath=${item.product.imagePaths[0]})}" alt="Product Image" style="width: 100px; height: 100px; object-fit: cover; margin-right: 0.5em; border-radius: 3px;">
                
                <!-- Display other product details -->
                <h3 th:text="${item.product.name}"></h3>
                <p th:text="${item.product.description}"></p>
                <p>Price: $<span th:text="${item.product.price}"></span></p>
                <p>Quantity: <span th:text="${item.quantity}"></span></p>
                <p>Total: $<span th:text="${item.product.price * item.quantity}"></span></p>
            </li>
        </ul>        
           <p>Total Price: $<span th:text="${totalPrice}"></span></p>
           <form action="/cart/buy" method="post">
               <button type="submit" class="buy-now-btn">Buy Now</button>
           </form>
       </div>
       <div th:if="${cartItems == null or #lists.isEmpty(cartItems)}">
           <p>Your cart is empty.</p>
       </div>
   </main>
</body>
</html>
